<!doctype html>
<html lang="en">

<head>
<meta charset="utf-8">
<meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" name="viewport">
<link rel="stylesheet" href="slides.css">
<script src="../reveal/lib/js/head.min.js"></script>
<title>Continuous Integration of an Operating System in Kubernetes</title>
</head>
<body>

<div class="reveal">
<div class="slides">

    <section data-state="title" class="title">
        <h3>Continuous Integration of an Operating System in Kubernetes</h3>
        <br>
        <p><strong>Stef Walter</strong><br>
        Red Hat</p>
    </section>

    <section data-transition="slide-in fade-out">
        <h2 style="font-weight: 700"><strong>Continuous Integration</strong></h2>
        &nbsp;<br>
        &nbsp;
    </section>

    <section data-transition="fade-in fade-out">
        <h2 style="font-weight: 700; color: #999;">Continuous <strong>Integration</strong></h2>
        Assemble everything together like in production,<br>and then drive it like a user.
    </section>

    <section data-transition="fade-in fade-out">
        <img src="2735596261_e78f1bf26e_b-flickr-stichlily.jpg">
    </section>

    <section data-transition="fade-in fade-out">
        <h2 style="font-weight: 700; color: #999;"><strong>Continuous</strong> Integration</h2>
        Do that integration for every single "change".<br>&nbsp;
    </section>

    <section data-state="clear" data-transition="fade-in fade-out">
	<img src="logo.png" style="width: 800px">
        <p>a Linux session in a web browser</p>
        <aside class="notes">
        We've had a preview of that future in the Cockpit team
        </aside>
    </section>

    <section data-state="clear" data-transition="fade-in fade-out">
        TODO: Screenshot
    </section>

    <section data-state="clear" data-transition="fade-in fade-out">
        TODO: Screenshot
    </section>

    <section data-background-video="spawn-process.webm">
    </section>

    <section data-background-video="dbus-proxy.webm">
    </section>

    <section data-state="complex">
        <!-- TODO: Use code style here -->
        <table class="reasons">
            <thead>
                <th colspan="5" class="comment">
                    90+ APIs: File, Command, REST, DBus, Socket
                </th>
            </thead>
            <tbody>
                <tr>
                    <td>abrt</td>
                    <td>AppStream</td>
                    <td>apt-get</td>
                    <td>atomic</td>
                    <td>Candlepin /candlepin/</td>
                </tr><tr>
                    <td>chpasswd</td>
                    <td>CloudForms</td>
                    <td>cryptsetup</td>
                    <td>curl</td>
                    <td>dbus-daemon</td>
                </tr><tr>
                    <td>device-mapper</td>
                    <td>docker-storage-setup</td>
                    <td>docker</td>
                    <td>e2fsprogs</td>
                    <td>etcd</td>
                </tr><tr>
                    <td>/etc/kdump.conf</td>
                    <td>/etc/passwd</td>
                    <td>firewalld</td>
                    <td>FreeIPA</td>
                    <td>GnuTLS</td>
                </tr><tr>
                    <td>GSSAPI</td>
                    <td>hostnamed</td>
                    <td>ipa-client</td>
                    <td>ipa-client</td>
                    <td>iproute</td>
                </tr><tr>
                    <td>iptables</td>
                    <td>iscsi-tools</td>
                    <td>journalctl</td>
                    <td>kdump</td>
                    <td>klist</td>
                </tr><tr>
                    <td>krb5</td>
                    <td>Kubernetes /api/</td>
                    <td>lastlog</td>
                    <td>libvirt</td>
                    <td>loginctl</td>
                </tr><tr>
                    <td>lvm</td>
                    <td>mdadm</td>
                    <td>NetworkManager</td>
                    <td>NetworkManager-team</td>
                    <td>oddjob</td>
                </tr><tr>
                    <td>Openshift /oapi/</td>
                    <td>Openshift OAuth2</td>
                    <td>openssl</td>
                    <td>ostree</td>
                    <td>oVirt /api/</td>
                </tr><tr>
                    <td>PackageKit</td>
                    <td>passwd</td>
                    <td>PCP</td>
                    <td>PolicyKit</td>
                    <td>/proc/meminfo... <!-- cpuinfo, diskstats --></td>
                </tr><tr>
                    <td>/proc/mounts</td>
                    <td>/proc/net/dev...</td>
                    <td>procps-ng</td>
                    <td>/proc/stat</td>
                    <td>pwquality</td>
                </tr><tr>
                    <td>qemu</td>
                    <td>realmd</td>
                    <td>rm ...</td>
                    <td>rpmostreed</td>
                    <td>rpm</td>
                </tr><tr>
                    <td>selinux-policy-targeted</td>
                    <td>selinux-utils</td>
                    <td>setenforce</td>
                    <td>Setroubleshootd</td>
                    <td>shadow-utils</td>
                </tr><tr>
                    <td>shutdown</td>
                    <td>sosreport</td>
                    <td>ssh-agent</td>
                    <td>sshd</td>
                    <td>ssh-keygen</td>
                </tr><tr>
                    <td>ssh</td>
                    <td>sssd</td>
                    <td>storaged</td>
                    <td>subscription-manager</td>
                    <td>sudo</td>
                </tr><tr>
                    <td>/sys/fs/cgroup</td>
                    <td>/sys/kernel</td>
                    <td>/sys/power</td>
                    <td>systemd</td>
                    <td>timedated</td>
                </tr><tr>
                    <td>Tuned</td>
                    <td>udev</td>
                    <td>UDisks2</td>
                    <td>/usr/bin/kubectl</td>
                    <td>/usr/bin/timedatectl</td>
                </tr><tr>
                    <td>/usr/bin/virt-install</td>
                    <td>/var/log/wtmp</td>
                    <td>/var/run/utmp</td>
                    <td>virsh</td>
                    <td>who/w</td>
                </tr><tr>
                    <td>xfsprogs</td>
                    <td>yum</td>
                </tr>
            </tbody>
        </table>
    </section>

    <section data-state="complex">
        <!-- TODO: Add logos -->
        <table class="reasons">
            <thead>
                <th>15+ Linuxes and Products</th>
            </thead>
            <tbody>
                <tr>
                    <td>CentOS (7.x, Atomic)
                </tr><tr>
                    <td>Fedora (25, 26, 27, Atomic)</td>
                </tr><tr>
                    <td>Ubuntu (stable, 16.04)</td>
                </tr><tr>
                    <td>RHEL (7.x, 7.4, Extras, Atomic)</td>
                </tr><tr>
                    <td>Debian (stable, testing)</td>
                </tr><tr>
                    <td>Openshift</td>
                </tr><tr>
                    <td>RHEV Hypervisor</td>
                </tr>
            </tbody>
        </table>
    </section>

    <section data-state="complex">
        <!-- TODO: Layout -->
        <table class="reasons">
            <thead>
                <th>5+ branches and architectures</th>
            </thead>
            <tbody>
                <tr>
                    <td>master</td>
                </tr><tr>
                    <td>rhel-7.4</td>
                </tr><tr>
                    <td>rhel-7.3.x</td>
                </tr><tr>
                    <td>i386</td>
                </tr><tr>
                    <td>s390x</td>
                </tr>
            </tbody>
        </table>
    </section>

    <section data-state="complex">
        <!-- TODO: Layoeut -->
        <table class="reasons">
            <thead>
                <th>3+ Browsers</th>
            </thead>
            <tbody>
                <tr>
                    <td>Google Chrome</td>
                </tr><tr>
                    <td>Internet Explorer</td>
                </tr><tr>
                    <td>Firefox</td>
                </tr>
            </tbody>
        </table>
    </section>

    <section data-state="complex" data-transition="slide-in fade-out">
        <!-- TODO: Layoeut -->
        <p class="comment">Weekly releases</p>
    </section>

    <section data-background-image="explosion-422301_1920.jpg" data-transition="fade-in fade-out">
        <h1 class="stand">92 &#215; 15 &#215; 5 &#215; 3 &#215; 50</1>
        <aside class="notes">
        It interacts with XXX different APIs.
        Do the math:
            XXXX APIs
            10 Linux Operating Systems
            50 stable releases a year
        </aside>
    </section>

    <section data-background="#000">
        <img src="flickr-striatic-robots-1276095_b1bdc29d42_o.jpg">
    </section>

    <section>
        Boot the operating system thousands of times a day
    </section>

    <section>
        Mounting /dev/kvm in a container
    </section>

    <section>
        oci-kvm-hook
    </section>

    <section>
        Scaling up and down
    </section>

    <section>
        Sharing state via host mounts
    </section>

    <section>
        Communicating between bots
    </section>

    <section>
        <!-- Density of VMs on a given machine -->
        High density via caching and host mounts
    </section>

    <section>
        The cockpit dashboard
    </section>

    <section>
        <h2><strong>Questions?
        <p style="font-size: 0.75em"><span>Credits: </span></p>
    </section>
</div>
</div>

<script src="../reveal/js/reveal.js"></script>
<script src="slides.js"></script>

</body>
</html>
